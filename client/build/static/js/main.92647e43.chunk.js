(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{140:function(e,t){},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),c=n.n(o),l=n(17),u=(n(92),n(11)),s=n(12),i=n(14),m=n(13),p=n(5),h=(n(93),n(94),n(7)),d=n.n(h),g=n(147),f=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={learners:[],search:null},e.searchSpace=function(t){var n=t.target.value;e.setState({search:n})},e.getData=function(){d.a.get("/api/projects").then((function(t){e.setState({learners:t.data}),e.state.learners.forEach((function(e){e.languagesSpoken.forEach((function(e){}))}))})).catch((function(e){console.log(e)}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state.learners.filter((function(t){return null==e.state.search||t.username.toLowerCase().includes(e.state.search.toLowerCase())||t.languagesSpoken.some((function(t){return t.slice(5).toLowerCase().includes(e.state.search.toLowerCase())}))?t:void 0})).map((function(e){return r.a.createElement("div",null,r.a.createElement("a",{href:"/users/".concat(e._id)},e.username)," ",r.a.createElement("br",null),r.a.createElement("b",null,e.description),r.a.createElement("p",null,"I speak "),e.languagesSpoken.map((function(e){return r.a.createElement("p",null,e)})),r.a.createElement("p",null,"and would love to learn "),e.languagesToLearn.map((function(e){return r.a.createElement("p",null,e)})))}));return r.a.createElement("div",null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{htmlFor:"search"}," "),r.a.createElement(g.a.Control,{type:"text",name:"search",onChange:function(t){return e.searchSpace(t)},id:"search",placeholder:"Enter the language you want to learn or the user you want to talk to"})),t)}}]),n}(a.Component),v=n(21),E=n(149),b=n(146),w=function(e,t,n,a,r){return d.a.post("/api/auth/signup",{username:e,password:t,languagesSpoken:n,languagesToLearn:a,description:r}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},k=function(e,t){return d.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},j=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",message:"",languagesSpoken:[],languagesToLearn:[],description:""},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(v.a)({},a,r))},e.spokenLanguageChanges=function(t){t.preventDefault();for(var n=[],a=0;a<t.target.options.length;a++)t.target.options[a].selected&&(n.push(t.target.options[a].value),console.log("this is the value from the if",n));e.setState({languagesSpoken:n}),console.log("this is the state languages spoken? ",e.state.languagesSpoken,"this is the value:",n)},e.languagesToLearnChanges=function(t){t.preventDefault();for(var n=[],a=0;a<t.target.options.length;a++)t.target.options[a].selected&&n.push(t.target.options[a].value);e.setState({languagesToLearn:n})},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,r=n.password,o=n.languagesSpoken,c=n.languagesToLearn,l=n.description;w(a,r,o,c,l).then((function(t){console.log(t),t.message?e.setState({message:t.message,username:a,password:"",languagesSpoken:o,languagesToLearn:c,description:l}):(e.props.setUser(t),e.props.history.push("/home"))})),console.log(e.state)},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Signup"),r.a.createElement(g.a,{onSubmit:this.handleSubmit},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{htmlFor:"username"},"Username: "),r.a.createElement(g.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{htmlFor:"password"},"Password: "),r.a.createElement(g.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"I speak the following languages:"),r.a.createElement(g.a.Control,{as:"select",multiple:!0,name:"languagesSpoken",value:this.state.languagesSpoken,onChange:this.spokenLanguageChanges},r.a.createElement("option",{value:"\ud83c\uddec\ud83c\udde7 English"}," \ud83c\uddec\ud83c\udde7 English"),r.a.createElement("option",{value:"\ud83c\udde9\ud83c\uddea German"},"\ud83c\udde9\ud83c\uddea German"),r.a.createElement("option",{value:"\ud83c\uddeb\ud83c\uddf7 French"},"\ud83c\uddeb\ud83c\uddf7 French"),r.a.createElement("option",{value:"\ud83c\uddee\ud83c\uddea Italian"},"\ud83c\uddee\ud83c\uddea Italian"),r.a.createElement("option",{value:"\ud83c\udde6\ud83c\uddea Arabic"},"\ud83c\udde6\ud83c\uddea Arabic"),r.a.createElement("option",{value:"\ud83c\udde8\ud83c\uddf3 Mandarin"},"\ud83c\udde8\ud83c\uddf3 Mandarin"),r.a.createElement("option",{value:"\ud83c\uddee\ud83c\uddf3 Hindi"},"\ud83c\uddee\ud83c\uddf3 Hindi "),r.a.createElement("option",{value:"\ud83c\uddf9\ud83c\uddf7 Turkish"},"\ud83c\uddf9\ud83c\uddf7 Turkish"),r.a.createElement("option",{value:"\ud83c\uddf5\ud83c\uddf9 Portuguese"},"\ud83c\uddf5\ud83c\uddf9 Portuguese"),r.a.createElement("option",{value:"\ud83c\uddea\ud83c\uddf8 Spanish"},"\ud83c\uddea\ud83c\uddf8 Spanish"),r.a.createElement("option",{value:"\ud83c\uddec\ud83c\uddf7 Greek"},"\ud83c\uddec\ud83c\uddf7 Greek"),r.a.createElement("option",{value:"\ud83c\uddf7\ud83c\uddfa Russian"},"\ud83c\uddf7\ud83c\uddfa Russian"),r.a.createElement("option",{value:"\ud83c\uddef\ud83c\uddf5 Japanese"},"\ud83c\uddef\ud83c\uddf5 Japanese"),r.a.createElement("option",{value:"\ud83c\udde7\ud83c\uddec Bulgarian"},"\ud83c\udde7\ud83c\uddec Bulgarian"),r.a.createElement("option",{value:"\ud83c\uddf0\ud83c\uddf7 Korean"},"\ud83c\uddf0\ud83c\uddf7 Korean"),r.a.createElement("option",{value:"\ud83c\udde6\ud83c\uddf2 Armenian"},"\ud83c\udde6\ud83c\uddf2 Armenian"),r.a.createElement("option",{value:"\ud83c\uddf1\ud83c\uddfa Dutch"},"\ud83c\uddf1\ud83c\uddfa Dutch"),r.a.createElement("option",{value:"\ud83c\uddf5\ud83c\uddf0 Urdu"},"\ud83c\uddf5\ud83c\uddf0 Urdu"))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"I want to learn the following languages:"),r.a.createElement(g.a.Control,{as:"select",multiple:!0,name:"languagesToLearn",value:this.state.languagesToLearn,onChange:this.languagesToLearnChanges},r.a.createElement("option",{value:"\ud83c\uddec\ud83c\udde7 English"},"\ud83c\uddec\ud83c\udde7 English"),r.a.createElement("option",{value:"\ud83c\udde9\ud83c\uddea German"},"\ud83c\udde9\ud83c\uddea German"),r.a.createElement("option",{value:"\ud83c\uddeb\ud83c\uddf7 French"},"\ud83c\uddeb\ud83c\uddf7 French"),r.a.createElement("option",{value:"\ud83c\uddee\ud83c\uddea Italian"},"\ud83c\uddee\ud83c\uddea Italian"),r.a.createElement("option",{value:"\ud83c\udde6\ud83c\uddea Arabic"},"\ud83c\udde6\ud83c\uddea Arabic"),r.a.createElement("option",{value:"\ud83c\udde8\ud83c\uddf3 Mandarin"},"\ud83c\udde8\ud83c\uddf3 Mandarin"),r.a.createElement("option",{value:"\ud83c\uddee\ud83c\uddf3 Hindi"},"\ud83c\uddee\ud83c\uddf3 Hindi "),r.a.createElement("option",{value:"\ud83c\uddf9\ud83c\uddf7 Turkish"},"\ud83c\uddf9\ud83c\uddf7 Turkish"),r.a.createElement("option",{value:"\ud83c\uddf5\ud83c\uddf9 Portuguese"},"\ud83c\uddf5\ud83c\uddf9 Portuguese"),r.a.createElement("option",{value:"\ud83c\uddea\ud83c\uddf8 Spanish"},"\ud83c\uddea\ud83c\uddf8 Spanish"),r.a.createElement("option",{value:"\ud83c\uddec\ud83c\uddf7 Greek"},"\ud83c\uddec\ud83c\uddf7 Greek"),r.a.createElement("option",{value:"\ud83c\uddf7\ud83c\uddfa Russian"},"\ud83c\uddf7\ud83c\uddfa Russian"),r.a.createElement("option",{value:"\ud83c\uddef\ud83c\uddf5 Japanese"},"\ud83c\uddef\ud83c\uddf5 Japanese"),r.a.createElement("option",{value:"\ud83c\udde7\ud83c\uddec Bulgarian"},"\ud83c\udde7\ud83c\uddec Bulgarian"),r.a.createElement("option",{value:"\ud83c\uddf0\ud83c\uddf7 Korean"},"\ud83c\uddf0\ud83c\uddf7 Korean"),r.a.createElement("option",{value:"\ud83c\udde6\ud83c\uddf2 Armenian"},"\ud83c\udde6\ud83c\uddf2 Armenian"),r.a.createElement("option",{value:"\ud83c\uddf1\ud83c\uddfa Dutch"},"\ud83c\uddf1\ud83c\uddfa Dutch"),r.a.createElement("option",{value:"\ud83c\uddf5\ud83c\uddf0 Urdu"},"\ud83c\uddf5\ud83c\uddf0 Urdu"))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{htmlFor:"description"},"Tell us a little bit about yourself:"),r.a.createElement(g.a.Control,{type:"text",name:"description",value:this.state.description,onChange:this.handleChange,id:"description"})),this.state.message&&r.a.createElement(E.a,{variant:"danger"},this.state.message),r.a.createElement(b.a,{type:"submit"},"Join our community")))}}]),n}(a.Component),y=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",message:""},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(v.a)({},a,r))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,r=n.password;k(a,r).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/home"))}))},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Login"),r.a.createElement(g.a,{onSubmit:this.handleSubmit},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{htmlFor:"username"},"Username: "),r.a.createElement(g.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{htmlFor:"password"},"Password: "),r.a.createElement(g.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})),this.state.message&&r.a.createElement(E.a,{variant:"danger"},this.state.message),r.a.createElement(b.a,{type:"submit"},"Login")))}}]),n}(a.Component),O=n(148),C=function(e){d.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))};function S(e){return r.a.createElement(O.a,{className:"nav justify-content-end",bg:"primary"},e.user&&r.a.createElement(O.a.Brand,null,"Welcome ",e.user.username),e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Brand,null,r.a.createElement(l.b,{to:"/home"},"Learners")),r.a.createElement(O.a.Brand,null,r.a.createElement(l.b,{to:"/",onClick:function(){return C(e)}},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Brand,null,r.a.createElement(l.b,{to:"/signup"},"Signup")),r.a.createElement(O.a.Brand,null,r.a.createElement(l.b,{to:"/login"},"Login"))))}var D=n(24),L=Object(p.f)((function(e){var t=Object(a.useState)(),n=Object(D.a)(t,2),o=n[0],c=n[1];return console.log("this is the state",o),r.a.createElement("div",{className:"button"},r.a.createElement("label",{htmlFor:"roomNumber"},"Please enter a room number"),r.a.createElement("input",{type:"number",name:"roomNumber",id:"roomNumber",value:o,onChange:function(e){c(e.target.value)}}),o?r.a.createElement("button",{onClick:function(){var t=o;e.history.push("/room/".concat(t))},id:"goRoom"},"Enter Room"):r.a.createElement("h1",null," Add a room number "))})),T=n(53),x=n(19),U=n(83),R=n.n(U),A=n(20);function F(){var e=Object(x.a)(["\n  width: 45%;\n  background-color: grey;\n  color: white;\n  border: 1px solid lightgray;\n  padding: 10px;\n  margin-left: 5px;\n  text-align: center;\n  border-top-left-radius: 10%;\n  border-bottom-left-radius: 10%;\n"]);return F=function(){return e},e}function G(){var e=Object(x.a)(["\n  justify-content: flex-start;\n"]);return G=function(){return e},e}function N(){var e=Object(x.a)(["\n  width: 45%;\n  background-color: blue;\n  color: white;\n  padding: 10px;\n  margin-right: 5px;\n  text-align: center;\n  border-top-right-radius: 10%;\n  border-bottom-right-radius: 10%;\n"]);return N=function(){return e},e}function I(){var e=Object(x.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 10px;\n"]);return I=function(){return e},e}function B(){var e=Object(x.a)(["\n  width: 50%;\n  border: 1px solid black;\n  margin-top: 15px;\n  height: 5%;\n  border-radius: 5px;\n  cursor: pointer;\n  background-color: black;\n  color: white;\n  font-size: 18px;\n"]);return B=function(){return e},e}function M(){var e=Object(x.a)(["\n  width: 100%;\n  height: 30%;\n"]);return M=function(){return e},e}function P(){var e=Object(x.a)(["\n  width: 100%;\n  height: 60%;\n  border: 1px solid black;\n  margin-top: 10px;\n  overflow: scroll;\n"]);return P=function(){return e},e}function W(){var e=Object(x.a)(["\n  height: 100vh;\n  width: 50%;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return W=function(){return e},e}var _=A.a.div(W()),J=A.a.div(P()),H=A.a.textarea(M()),K=A.a.div(B()),z=A.a.div(I()),Y=A.a.div(N()),V=Object(A.a)(z)(G()),$=A.a.div(F()),q=function(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),o=Object(a.useRef)(),c=Object(a.useRef)(),l=Object(a.useRef)(),u=Object(a.useRef)(),s=Object(a.useRef)([]),i=Object(a.useRef)([]),m=Object(a.useState)(""),p=Object(D.a)(m,2),h=p[0],d=p[1],g=Object(a.useState)([]),f=Object(D.a)(g,2),v=f[0],E=f[1],b=Object(a.useState)(!0),w=Object(D.a)(b,2),k=w[0],j=w[1],y=Object(a.useState)(""),O=Object(D.a)(y,2),C=O[0],S=O[1];function L(e){E((function(t){return[].concat(Object(T.a)(t),[{yours:!1,value:e.data}])})),console.log(v)}function x(e){var t=new RTCPeerConnection({iceServers:[{urls:"stun:stun.stunprotocol.org"},{urls:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"}]});return t.onicecandidate=G,t.ontrack=I,t.onnegotiationneeded=function(){return function(e){o.current.createOffer().then((function(e){return console.log(e),o.current.setLocalDescription(e)})).then((function(){var t={target:e,caller:c.current.id,sdp:o.current.localDescription};c.current.emit("offer",t)})).catch((function(e){return console.log(e)}))}(e)},j(!1),t}function U(e){o.current=x(),o.current.ondatachannel=function(e){i.current=e.channel,i.current.onmessage=L};var t=new RTCSessionDescription(e.sdp);o.current.setRemoteDescription(t).then((function(){return o.current.createAnswer()})).then((function(e){return console.log(e),o.current.setLocalDescription(e)})).then((function(){var t={target:e.caller,caller:c.current.id,sdp:o.current.localDescription};c.current.emit("answer",t)}))}function A(e){o.current=x();var t=new RTCSessionDescription(e.sdp);o.current.setRemoteDescription(t).then((function(){u.current.getTracks().forEach((function(e){return s.current.push(o.current.addTrack(e,u.current))}))})).then((function(){return o.current.createAnswer()})).then((function(e){return o.current.setLocalDescription(e)})).then((function(){var t={target:e.caller,caller:c.current.id,sdp:o.current.localDescription};c.current.emit("answer",t)}))}function F(e){var t=new RTCSessionDescription(e.sdp);o.current.setRemoteDescription(t).catch((function(e){return console.log(e)}))}function G(e){if(e.candidate){var t={target:l.current,candidate:e.candidate};c.current.emit("ice-candidate",t)}}function N(e){var t=new RTCIceCandidate(e);o.current.addIceCandidate(t).catch((function(e){return console.log(e)}))}function I(e){n.current.srcObject=e.streams[0]}function B(){0!==i.current.length?(i.current.send(h),E((function(e){return[].concat(Object(T.a)(e),[{yours:!0,value:h}])})),d("")):console.log("work")}function M(){var e=["Where did you grow up?","What do you think about the elections in America?","What's your favourite meal?","Tell me about your family","Do you think climate change is real?","Are you interested in blockchain?","Your favourite childhood memory","Your job"],t=Math.floor(Math.random()*e.length);S(e[t])}return Object(a.useEffect)((function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(n){t.current.srcObject=n,u.current=n,c.current=R.a.connect("/"),c.current.emit("join room",e.match.params.roomID),c.current.on("other user",(function(e){!function(e){o.current=x(e),i.current=o.current.createDataChannel("sendChannel"),i.current.onmessage=L,u.current.getTracks().forEach((function(e){return s.current.push(o.current.addTrack(e,u.current))}))}(e),l.current=e})),c.current.on("user joined",(function(e){l.current=e})),c.current.on("offer",A),c.current.on("offer",U),c.current.on("answer",F),c.current.on("ice-candidate",N)}))}),[]),setTimeout(M,2e4),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("video",{style:{height:500,width:500},autoPlay:!0,ref:t,muted:"muted"}),r.a.createElement("video",{controls:!0,style:{height:500,width:500},autoPlay:!0,ref:n}),k?r.a.createElement("h2",null):r.a.createElement("button",{onClick:function(){navigator.mediaDevices.getDisplayMedia({cursor:!0}).then((function(e){var t=e.getTracks()[0];s.current.find((function(e){return"video"===e.track.kind})).replaceTrack(t),console.log(s.current,"CURRENT 2"),t.onended=function(){s.current.find((function(e){return"video"===e.track.kind})).replaceTrack(u.current.getTracks()[1]),j(!1)}}))}},"Share screen")),r.a.createElement("div",null,r.a.createElement(_,null,r.a.createElement(J,null,v.map((function(e,t){return e.yours?r.a.createElement(z,{key:t},r.a.createElement(Y,null,e.value)):r.a.createElement(V,{key:t},r.a.createElement($,null,e.value))}))),r.a.createElement(H,{value:h,onChange:function(e){d(e.target.value)},placeholder:"Happy Learning :)"}),r.a.createElement(K,{onClick:function(){return B()}},"Send"))),r.a.createElement("div",null,r.a.createElement(K,{onClick:function(){return M()}},r.a.createElement("p",null,"Don't know what to talk about?"),r.a.createElement("p",null,"Here are our suggestions"))),C&&r.a.createElement("h1",null,C)," ")},Q=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={comment:"",receiver:"",receiverUsername:"",senderUsername:"",showButton:!0,allowedToDelete:!1},e.handleSubmit=function(t){t.preventDefault(),d.a.post("/comments",{comment:e.state.comment,receiver:e.props.userId,receiverUsername:e.props.username,senderUsername:e.props.loggedUser.username}).then((function(){e.setState({comment:""}),e.props.getData()})).catch((function(e){console.log(e)}))},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(v.a)({},a,r))},e.handleRandomRoom=function(t){t.preventDefault(),d.a.post("/comments",{comment:"This is your room number: "+Math.floor(1e6*Math.random()),receiver:e.props.userId,receiverUsername:e.props.username,senderUsername:e.props.loggedUser.username}).then((function(){e.setState({comment:""}),e.props.getData()}))},e.decline=function(t){console.log("find the comment",t),d.a.delete("/comments/".concat(t._id)).then((function(){e.props.getData()})).catch((function(e){console.log(e)}))},e.handleButton=function(e){"is-hidden"==e.target.className?e.target.className="":e.target.className="is-hidden"},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.comments.map((function(t){return console.log("commentObj in comment",t),r.a.createElement("div",null,t.senderUsername===e.props.username?r.a.createElement("p",{className:"username-comment"},t.receiverUsername," said: "):r.a.createElement("p",{className:"username-comment"},t.senderUsername," said: "),t.comment,r.a.createElement(g.a,null,r.a.createElement(b.a,{variant:"danger",onClick:function(){e.decline(t)}},"Decline")),r.a.createElement(g.a,{onSubmit:e.handleRandomRoom},r.a.createElement(b.a,{onClick:e.handleButton,type:"submit"},"Accept invitation")," ",r.a.createElement("br",null)))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Comments:"),r.a.createElement("div",{className:"comments"},t),r.a.createElement(g.a,{onSubmit:this.handleSubmit},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{htmlFor:"comment"},r.a.createElement("b",null,"Get in touch here! ")),r.a.createElement(g.a.Control,{type:"text",name:"comment",value:this.state.comment,onChange:this.handleChange,id:"comment"})),r.a.createElement(b.a,{type:"submit"},"Submit comment")," ",r.a.createElement("br",null)))}}]),n}(a.Component),X=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userId:"",username:"",languagesSpoken:[],languagesToLearn:[],description:"",comments:[],error:"",allowedToDelete:!1},e.getData=function(){d.a.get("/api/projects/".concat(e.props.match.params.id)).then((function(t){var n=t.data.comments.filter((function(t){return console.log("comment in userComments ",t),console.log("this.props.user._id",e.props.user._id),console.log("comment.receiver: ",t.receiver),console.log("comment.sender: ",t.sender),console.log(e.props.user._id===t.receiver),console.log(t.sender===e.props.user._id),(e.props.user._id===t.receiver||t.sender===e.props.user._id)&&e.props.match.params.id===t.receiver&&t}));e.setState({userId:t.data.user._id,username:t.data.user.username,description:t.data.user.description,languagesSpoken:t.data.user.languagesSpoken,languagesToLearn:t.data.user.languagesToLearn,comments:n})})).catch((function(t){404===t.response.status&&e.setState({error:"Not found"})}))},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(v.a)({},a,r))},e.toggleEditForm=function(){e.setState((function(e){return{editForm:!e.editForm}}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){this.props.user;var e=this.state.languagesToLearn.map((function(e){return r.a.createElement("p",null,e)})),t=this.state.languagesSpoken.map((function(e){return r.a.createElement("p",null,e)}));return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.username),r.a.createElement("p",null,this.state.description),r.a.createElement("h3",null,"Wants to learn"),e,r.a.createElement("h3",null,"Can speak"),t,r.a.createElement(Q,Object.assign({getData:this.getData,loggedUser:this.props.user},this.state)),r.a.createElement(L,null))}}]),n}(a.Component),Z=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(S,{user:this.state.user,setUser:this.setUser}),r.a.createElement(p.b,{exact:!0,path:"/home",render:function(t){return e.state.user?r.a.createElement(f,Object.assign({user:e.state.user},t)):r.a.createElement(p.a,{to:"/"})}}),r.a.createElement(p.b,{exact:!0,path:"/users/:id",render:function(t){return r.a.createElement(X,Object.assign({user:e.state.user},t))}}),r.a.createElement(p.b,{path:"/room/:roomID",component:q}),r.a.createElement(p.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(j,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(p.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(y,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(p.b,{exact:!0,path:"/",render:function(t){return e.state.user?r.a.createElement("learnersList",t):r.a.createElement("div",{className:"not-signed-up"},r.a.createElement("h1",null,"Welcome to the DaNaKe"),r.a.createElement("p",null,"Here at DaNaKe, we care about learning languages. A passion for education, coupled with the new normal imposed by COVID, which means we can't travel as much as normal, motivated us to make our groundbreaking language learning platform available to the public. Connect with normal people from all over the world and learn the language of your choosing, whilst simultaneously sharing your own culture."),r.a.createElement("p",null,r.a.createElement("em",null,"We are DaNaKe, we are community")),r.a.createElement("a",{href:"/signup"},r.a.createElement(b.a,{variant:"primary",size:"lg"},"Join us now")))}}),r.a.createElement(p.b,{exact:!0,path:"/room",render:function(t){return e.state.user?r.a.createElement(L,t):r.a.createElement(p.a,{to:"/"})}}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.get("/api/auth/loggedin").then((function(e){var t=e.data;c.a.render(r.a.createElement(l.a,null,r.a.createElement(Z,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,n){e.exports=n(144)},92:function(e,t,n){},93:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.92647e43.chunk.js.map