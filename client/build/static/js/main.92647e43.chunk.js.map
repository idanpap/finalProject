{"version":3,"sources":["components/LearnersList.js","services/auth.js","components/Signup.js","components/Login.js","components/Navbar.js","components/CreateRoom.js","components/Room.js","components/Comment.js","components/ProjectDetails.js","App.js","serviceWorker.js","index.js"],"names":["Projects","state","learners","search","searchSpace","event","keyword","target","value","setState","getData","axios","get","then","response","data","forEach","learner","languagesSpoken","language","catch","error","console","log","this","users","filter","username","toLowerCase","includes","some","slice","map","user","href","_id","description","spokenLanguage","languagesToLearn","Form","Group","Label","htmlFor","Control","type","name","onChange","e","id","placeholder","Component","signup","password","post","login","Signup","message","handleChange","spokenLanguageChanges","preventDefault","i","options","length","selected","push","languagesToLearnChanges","handleSubmit","props","setUser","history","onSubmit","as","multiple","Alert","variant","Button","Login","handleLogout","delete","Navbar","className","bg","Brand","to","onClick","withRouter","useState","roomNumber","setRoomNumber","Container","styled","div","Messages","MessageBox","textarea","MyRow","MyMessage","PartnerRow","PartnerMessage","Room","userVideo","useRef","partnerVideo","peerRef","socketRef","otherUser","userStream","senders","sendChannel","text","setText","messages","setMessages","screenShare","setScreenShare","topics","setTopics","handleReceiveMessage","yours","createPeer","userID","peer","RTCPeerConnection","iceServers","urls","credential","onicecandidate","handleICECandidateEvent","ontrack","handleTrackEvent","onnegotiationneeded","current","createOffer","offer","setLocalDescription","payload","caller","sdp","localDescription","emit","handleNegotiationNeededEvent","handleOffer","incoming","ondatachannel","channel","onmessage","desc","RTCSessionDescription","setRemoteDescription","createAnswer","answer","handleReceiveCall","getTracks","track","addTrack","handleAnswer","candidate","handleNewICECandidateMsg","RTCIceCandidate","addIceCandidate","srcObject","streams","handleSendMessage","send","topicSuggestion","chats","randomNumber","Math","floor","random","useEffect","navigator","mediaDevices","getUserMedia","audio","video","stream","io","connect","match","params","roomID","on","createDataChannel","callUser","setTimeout","style","height","width","autoPlay","ref","muted","controls","getDisplayMedia","cursor","screenTrack","find","sender","kind","replaceTrack","onended","index","key","Comment","comment","receiver","receiverUsername","senderUsername","showButton","allowedToDelete","userId","loggedUser","handleRandomRoom","decline","commentObj","handleButton","userComment","comments","ProjectDetails","userComments","status","toggleEditForm","editForm","App","exact","path","render","component","size","Boolean","window","location","hostname","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.92647e43.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Form } from \"react-bootstrap\";\n\n// import LearnersList from \"./LearnersList\";\n// import AddProject from \"./AddProject\";\n// import ProjectDetails from \"./ProjectDetails\";\n\nexport default class Projects extends Component {\n  state = {\n    learners: [],\n    search: null,\n  };\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  searchSpace = (event) => {\n    let keyword = event.target.value;\n    this.setState({ search: keyword });\n  };\n\n  getData = () => {\n    axios\n      .get(\"/api/projects\")\n      .then((response) => {\n        this.setState({\n          learners: response.data,\n        });\n        this.state.learners.forEach((learner) => {\n          learner.languagesSpoken.forEach((language) => {\n          });\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n\n    const users = this.state.learners\n      .filter((data) => {\n        if (this.state.search == null) return data;\n        else if (\n          data.username\n            .toLowerCase()\n            .includes(this.state.search.toLowerCase()) ||\n          data.languagesSpoken.some((language) => {\n            return language\n              .slice(5)\n              .toLowerCase()\n              .includes(this.state.search.toLowerCase());\n          })\n        ) {\n          return data;\n        }\n      })\n      .map((user) => {\n        return (\n          <div>\n            <a href={`/users/${user._id}`}>{user.username}</a> <br></br>\n            <b>{user.description}</b>\n            <p>I speak </p>\n            {user.languagesSpoken.map((spokenLanguage) => {\n              return <p>{spokenLanguage}</p>;\n            })}\n            <p>and would love to learn </p>\n            {user.languagesToLearn.map((languagesToLearn) => {\n              return <p>{languagesToLearn}</p>;\n            })}\n          </div>\n        );\n      });\n    return (\n      <div>\n        <Form.Group>\n          <Form.Label htmlFor=\"search\"> </Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"search\"\n            onChange={(e) => this.searchSpace(e)}\n            id=\"search\"\n            placeholder=\"Enter the language you want to learn or the user you want to talk to\"\n          />\n        </Form.Group>\n        {users}\n      </div>\n    );\n  }\n}\n","// services/auth.js\nimport axios from \"axios\";\n\nconst signup = (\n  username,\n  password,\n  languagesSpoken,\n  languagesToLearn,\n  description\n) => {\n  return axios\n    .post(\"/api/auth/signup\", {\n      username,\n      password,\n      languagesSpoken,\n      languagesToLearn,\n      description,\n    })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((error) => {\n      return error.response.data;\n    });\n};\n\nconst login = (username, password) => {\n  return axios\n    .post(\"/api/auth/login\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((error) => {\n      return error.response.data;\n    });\n};\n\nconst logout = (username, password) => {\n  return axios\n    .delete(\"/api/auth/logout\")\n    .then((response) => {\n      return response.data;\n    })\n    .catch((error) => {\n      return error.response.data;\n    });\n};\n\nexport { signup, login, logout };\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { signup } from \"../services/auth\";\n\nexport default class Signup extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    message: \"\",\n    languagesSpoken: [],\n    languagesToLearn: [],\n    description: \"\",\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  spokenLanguageChanges = (event) => {\n    event.preventDefault();\n    let value = [];\n    for (let i = 0; i < event.target.options.length; i++) {\n      if (event.target.options[i].selected) {\n        value.push(event.target.options[i].value);\n        console.log(\"this is the value from the if\", value);\n      }\n    }\n    this.setState({\n      languagesSpoken: value,\n    });\n    console.log(\n      \"this is the state languages spoken? \",\n      this.state.languagesSpoken,\n      \"this is the value:\",\n      value\n    );\n  };\n\n  languagesToLearnChanges = (event) => {\n    event.preventDefault();\n    let value = [];\n    for (let i = 0; i < event.target.options.length; i++) {\n      if (event.target.options[i].selected) {\n        value.push(event.target.options[i].value);\n      }\n    }\n    this.setState({\n      languagesToLearn: value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const {\n      username,\n      password,\n      languagesSpoken,\n      languagesToLearn,\n      description,\n    } = this.state;\n    signup(\n      username,\n      password,\n      languagesSpoken,\n      languagesToLearn,\n      description\n    ).then((data) => {\n      console.log(data);\n      if (data.message) {\n        this.setState({\n          message: data.message,\n          username: username,\n          password: \"\",\n          languagesSpoken: languagesSpoken,\n          languagesToLearn: languagesToLearn,\n          description: description,\n        });\n      } else {\n        // now we need to put the user in the user key of the state of App.js\n        this.props.setUser(data);\n        // redirect to /projects\n        this.props.history.push(\"/home\");\n      }\n    });\n    console.log(this.state);\n  };\n\n  render() {\n    return (\n      <>\n        <h2>Signup</h2>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group>\n            <Form.Label htmlFor=\"username\">Username: </Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"username\"\n              value={this.state.username}\n              onChange={this.handleChange}\n              id=\"username\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"password\">Password: </Form.Label>\n            <Form.Control\n              type=\"password\"\n              name=\"password\"\n              value={this.state.password}\n              onChange={this.handleChange}\n              id=\"password\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>I speak the following languages:</Form.Label>\n            <Form.Control\n              as=\"select\"\n              multiple\n              name=\"languagesSpoken\"\n              value={this.state.languagesSpoken}\n              onChange={this.spokenLanguageChanges}\n            >\n              <option value=\"🇬🇧 English\"> 🇬🇧 English</option>\n              <option value=\"🇩🇪 German\">🇩🇪 German</option>\n              <option value=\"🇫🇷 French\">🇫🇷 French</option>\n              <option value=\"🇮🇪 Italian\">🇮🇪 Italian</option>\n              <option value=\"🇦🇪 Arabic\">🇦🇪 Arabic</option>\n              <option value=\"🇨🇳 Mandarin\">🇨🇳 Mandarin</option>\n              <option value=\"🇮🇳 Hindi\">🇮🇳 Hindi </option>\n              <option value=\"🇹🇷 Turkish\">🇹🇷 Turkish</option>\n              <option value=\"🇵🇹 Portuguese\">🇵🇹 Portuguese</option>\n              <option value=\"🇪🇸 Spanish\">🇪🇸 Spanish</option>\n              <option value=\"🇬🇷 Greek\">🇬🇷 Greek</option>\n              <option value=\"🇷🇺 Russian\">🇷🇺 Russian</option>\n              <option value=\"🇯🇵 Japanese\">🇯🇵 Japanese</option>\n              <option value=\"🇧🇬 Bulgarian\">🇧🇬 Bulgarian</option>\n              <option value=\"🇰🇷 Korean\">🇰🇷 Korean</option>\n              <option value=\"🇦🇲 Armenian\">🇦🇲 Armenian</option>\n              <option value=\"🇱🇺 Dutch\">🇱🇺 Dutch</option>\n              <option value=\"🇵🇰 Urdu\">🇵🇰 Urdu</option>\n            </Form.Control>\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>I want to learn the following languages:</Form.Label>\n            <Form.Control\n              as=\"select\"\n              multiple\n              name=\"languagesToLearn\"\n              value={this.state.languagesToLearn}\n              onChange={this.languagesToLearnChanges}\n            >\n              <option value=\"🇬🇧 English\">🇬🇧 English</option>\n              <option value=\"🇩🇪 German\">🇩🇪 German</option>\n              <option value=\"🇫🇷 French\">🇫🇷 French</option>\n              <option value=\"🇮🇪 Italian\">🇮🇪 Italian</option>\n              <option value=\"🇦🇪 Arabic\">🇦🇪 Arabic</option>\n              <option value=\"🇨🇳 Mandarin\">🇨🇳 Mandarin</option>\n              <option value=\"🇮🇳 Hindi\">🇮🇳 Hindi </option>\n              <option value=\"🇹🇷 Turkish\">🇹🇷 Turkish</option>\n              <option value=\"🇵🇹 Portuguese\">🇵🇹 Portuguese</option>\n              <option value=\"🇪🇸 Spanish\">🇪🇸 Spanish</option>\n              <option value=\"🇬🇷 Greek\">🇬🇷 Greek</option>\n              <option value=\"🇷🇺 Russian\">🇷🇺 Russian</option>\n              <option value=\"🇯🇵 Japanese\">🇯🇵 Japanese</option>\n              <option value=\"🇧🇬 Bulgarian\">🇧🇬 Bulgarian</option>\n              <option value=\"🇰🇷 Korean\">🇰🇷 Korean</option>\n              <option value=\"🇦🇲 Armenian\">🇦🇲 Armenian</option>\n              <option value=\"🇱🇺 Dutch\">🇱🇺 Dutch</option>\n              <option value=\"🇵🇰 Urdu\">🇵🇰 Urdu</option>\n            </Form.Control>\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"description\">\n              Tell us a little bit about yourself:\n            </Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"description\"\n              value={this.state.description}\n              onChange={this.handleChange}\n              id=\"description\"\n            />\n          </Form.Group>\n          {this.state.message && (\n            <Alert variant=\"danger\">{this.state.message}</Alert>\n          )}\n          <Button type=\"submit\">Join our community</Button>\n        </Form>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { login } from \"../services/auth\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\n\nexport default class Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    message: \"\",\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    login(username, password).then((data) => {\n      if (data.message) {\n        this.setState({\n          message: data.message,\n          username: \"\",\n          password: \"\",\n        });\n      } else {\n        // now we need to put the user in the user key of the state of App.js\n        this.props.setUser(data);\n        // redirect to /projects\n        this.props.history.push(\"/home\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <h2>Login</h2>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group>\n            <Form.Label htmlFor=\"username\">Username: </Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"username\"\n              value={this.state.username}\n              onChange={this.handleChange}\n              id=\"username\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor=\"password\">Password: </Form.Label>\n            <Form.Control\n              type=\"password\"\n              name=\"password\"\n              value={this.state.password}\n              onChange={this.handleChange}\n              id=\"password\"\n            />\n          </Form.Group>\n          {this.state.message && (\n            <Alert variant=\"danger\">{this.state.message}</Alert>\n          )}\n          <Button type=\"submit\">Login</Button>\n        </Form>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Navbar as Nav } from \"react-bootstrap\";\nimport { logout } from \"../services/auth\";\n\nconst handleLogout = (props) => {\n  logout().then(() => {\n    props.setUser(null);\n  });\n};\n\nexport default function Navbar(props) {\n  return (\n    <Nav className=\"nav justify-content-end\" bg=\"primary\">\n      {props.user && <Nav.Brand>Welcome {props.user.username}</Nav.Brand>}\n      {/* <Nav.Brand>\n        <Link to=\"/\">Home</Link>\n      </Nav.Brand> */}\n      {props.user ? (\n        <>\n          <Nav.Brand>\n            <Link to=\"/home\">Learners</Link>\n          </Nav.Brand>\n          <Nav.Brand>\n            <Link to=\"/\" onClick={() => handleLogout(props)}>\n              Logout\n            </Link>\n          </Nav.Brand>\n        </>\n      ) : (\n        <>\n          <Nav.Brand>\n            <Link to=\"/signup\">Signup</Link>\n          </Nav.Brand>\n          <Nav.Brand>\n            <Link to=\"/login\">Login</Link>\n          </Nav.Brand>\n        </>\n      )}\n    </Nav>\n  );\n}\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nconst CreateRoom = (props) => {\n  const [roomNumber, setRoomNumber] = useState();\n\n  console.log(\"this is the state\", roomNumber);\n\n  function create() {\n    const id = roomNumber;\n\n    props.history.push(`/room/${id}`);\n  }\n\n  function onEnteringChar(event) {\n    setRoomNumber(event.target.value);\n  }\n\n  return (\n    <div className=\"button\">\n      <label htmlFor=\"roomNumber\">Please enter a room number</label>\n      <input\n        type=\"number\"\n        name=\"roomNumber\"\n        id=\"roomNumber\"\n        value={roomNumber}\n        onChange={onEnteringChar}\n      ></input>\n\n      {roomNumber ? (\n        <button onClick={create} id=\"goRoom\">\n          Enter Room\n        </button>\n      ) : (\n        <h1> Add a room number </h1>\n      )}\n    </div>\n  );\n};\n// export default CreateRoom;\nexport default withRouter(CreateRoom);\n","import React, { useRef, useEffect, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  height: 100vh;\n  width: 50%;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Messages = styled.div`\n  width: 100%;\n  height: 60%;\n  border: 1px solid black;\n  margin-top: 10px;\n  overflow: scroll;\n`;\n\nconst MessageBox = styled.textarea`\n  width: 100%;\n  height: 30%;\n`;\n\nconst Button = styled.div`\n  width: 50%;\n  border: 1px solid black;\n  margin-top: 15px;\n  height: 5%;\n  border-radius: 5px;\n  cursor: pointer;\n  background-color: black;\n  color: white;\n  font-size: 18px;\n`;\n\nconst MyRow = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 10px;\n`;\n\nconst MyMessage = styled.div`\n  width: 45%;\n  background-color: blue;\n  color: white;\n  padding: 10px;\n  margin-right: 5px;\n  text-align: center;\n  border-top-right-radius: 10%;\n  border-bottom-right-radius: 10%;\n`;\n\nconst PartnerRow = styled(MyRow)`\n  justify-content: flex-start;\n`;\n\nconst PartnerMessage = styled.div`\n  width: 45%;\n  background-color: grey;\n  color: white;\n  border: 1px solid lightgray;\n  padding: 10px;\n  margin-left: 5px;\n  text-align: center;\n  border-top-left-radius: 10%;\n  border-bottom-left-radius: 10%;\n`;\n\nconst Room = (props) => {\n  const userVideo = useRef();\n  const partnerVideo = useRef();\n  const peerRef = useRef();\n  const socketRef = useRef();\n  const otherUser = useRef();\n  const userStream = useRef();\n  const senders = useRef([]);\n  const sendChannel = useRef([]);\n  const [text, setText] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [screenShare, setScreenShare] = useState(true);\n  const [topics, setTopics] = useState(\"\");\n\n  useEffect(() => {\n    navigator.mediaDevices\n      .getUserMedia({ audio: true, video: true })\n      .then((stream) => {\n        userVideo.current.srcObject = stream;\n        userStream.current = stream;\n\n        socketRef.current = io.connect(\"/\");\n        socketRef.current.emit(\"join room\", props.match.params.roomID);\n\n        socketRef.current.on(\"other user\", (userID) => {\n          callUser(userID);\n          otherUser.current = userID;\n        });\n\n        socketRef.current.on(\"user joined\", (userID) => {\n          otherUser.current = userID;\n        });\n\n        socketRef.current.on(\"offer\", handleReceiveCall);\n\n        socketRef.current.on(\"offer\", handleOffer);\n\n        socketRef.current.on(\"answer\", handleAnswer);\n\n        socketRef.current.on(\"ice-candidate\", handleNewICECandidateMsg);\n      });\n  }, []);\n\n  function callUser(userID) {\n    peerRef.current = createPeer(userID);\n    sendChannel.current = peerRef.current.createDataChannel(\"sendChannel\");\n    sendChannel.current.onmessage = handleReceiveMessage;\n    userStream.current\n      .getTracks()\n      .forEach((track) =>\n        senders.current.push(\n          peerRef.current.addTrack(track, userStream.current)\n        )\n      );\n  }\n\n  function handleReceiveMessage(e) {\n    setMessages((messages) => [...messages, { yours: false, value: e.data }]);\n    console.log(messages);\n  }\n\n  function createPeer(userID) {\n    const peer = new RTCPeerConnection({\n      iceServers: [\n        {\n          urls: \"stun:stun.stunprotocol.org\",\n        },\n        {\n          urls: \"turn:numb.viagenie.ca\",\n          credential: \"muazkh\",\n          username: \"webrtc@live.com\",\n        },\n      ],\n    });\n\n    peer.onicecandidate = handleICECandidateEvent;\n\n    peer.ontrack = handleTrackEvent;\n    peer.onnegotiationneeded = () => handleNegotiationNeededEvent(userID);\n    setScreenShare(false);\n    return peer;\n  }\n\n  function handleNegotiationNeededEvent(userID) {\n    peerRef.current\n      .createOffer()\n      .then((offer) => {\n        console.log(offer);\n        return peerRef.current.setLocalDescription(offer);\n      })\n      .then(() => {\n        const payload = {\n          target: userID,\n          caller: socketRef.current.id,\n          sdp: peerRef.current.localDescription,\n        };\n        socketRef.current.emit(\"offer\", payload);\n      })\n      .catch((e) => console.log(e));\n  }\n\n  function handleOffer(incoming) {\n    peerRef.current = createPeer();\n    peerRef.current.ondatachannel = (event) => {\n      sendChannel.current = event.channel;\n      sendChannel.current.onmessage = handleReceiveMessage;\n    };\n    const desc = new RTCSessionDescription(incoming.sdp);\n    peerRef.current\n      .setRemoteDescription(desc)\n      .then(() => {\n        return peerRef.current.createAnswer();\n      })\n      .then((answer) => {\n        console.log(answer);\n        return peerRef.current.setLocalDescription(answer);\n      })\n      .then(() => {\n        const payload = {\n          target: incoming.caller,\n          caller: socketRef.current.id,\n          sdp: peerRef.current.localDescription,\n        };\n        socketRef.current.emit(\"answer\", payload);\n      });\n  }\n\n  function handleReceiveCall(incoming) {\n    peerRef.current = createPeer();\n    const desc = new RTCSessionDescription(incoming.sdp);\n    peerRef.current\n      .setRemoteDescription(desc)\n      .then(() => {\n        userStream.current\n          .getTracks()\n          .forEach((track) =>\n            senders.current.push(\n              peerRef.current.addTrack(track, userStream.current)\n            )\n          );\n      })\n      .then(() => {\n        return peerRef.current.createAnswer();\n      })\n      .then((answer) => {\n        return peerRef.current.setLocalDescription(answer);\n      })\n      .then(() => {\n        const payload = {\n          target: incoming.caller,\n          caller: socketRef.current.id,\n          sdp: peerRef.current.localDescription,\n        };\n        socketRef.current.emit(\"answer\", payload);\n      });\n  }\n\n  function handleAnswer(message) {\n    const desc = new RTCSessionDescription(message.sdp);\n    peerRef.current.setRemoteDescription(desc).catch((e) => console.log(e));\n  }\n\n  function handleICECandidateEvent(e) {\n    if (e.candidate) {\n      const payload = {\n        target: otherUser.current,\n        candidate: e.candidate,\n      };\n      socketRef.current.emit(\"ice-candidate\", payload);\n    }\n  }\n\n  function handleNewICECandidateMsg(incoming) {\n    const candidate = new RTCIceCandidate(incoming);\n\n    peerRef.current.addIceCandidate(candidate).catch((e) => console.log(e));\n  }\n\n  function handleChange(e) {\n    setText(e.target.value);\n  }\n\n  function sendMessage() {\n    sendChannel.current.send(text);\n    setMessages((messages) => [...messages, { yours: true, value: text }]);\n    setText(\"\");\n  }\n\n  function handleTrackEvent(e) {\n    partnerVideo.current.srcObject = e.streams[0];\n  }\n\n  function shareScreen() {\n    navigator.mediaDevices.getDisplayMedia({ cursor: true }).then((stream) => {\n      const screenTrack = stream.getTracks()[0];\n      senders.current\n        .find((sender) => sender.track.kind === \"video\")\n        .replaceTrack(screenTrack);\n      console.log(senders.current, \"CURRENT 2\");\n\n      screenTrack.onended = function () {\n        senders.current\n          .find((sender) => sender.track.kind === \"video\")\n          .replaceTrack(userStream.current.getTracks()[1]);\n        setScreenShare(false);\n      };\n    });\n  }\n\n  function renderMessage(message, index) {\n    if (message.yours) {\n      return (\n        <MyRow key={index}>\n          <MyMessage>{message.value}</MyMessage>\n        </MyRow>\n      );\n    }\n    return (\n      <PartnerRow key={index}>\n        <PartnerMessage>{message.value}</PartnerMessage>\n      </PartnerRow>\n    );\n  }\n\n  function handleSendMessage() {\n    if (sendChannel.current.length !== 0) {\n      sendMessage();\n    } else {\n      console.log(\"work\");\n    }\n  }\n\n  function topicSuggestion() {\n    let chats = [\n      \"Where did you grow up?\",\n      \"What do you think about the elections in America?\",\n      \"What's your favourite meal?\",\n      \"Tell me about your family\",\n      \"Do you think climate change is real?\",\n      \"Are you interested in blockchain?\",\n      \"Your favourite childhood memory\",\n      \"Your job\",\n    ];\n    let randomNumber = Math.floor(Math.random() * chats.length);\n    setTopics(chats[randomNumber]);\n  }\n  setTimeout(topicSuggestion, 20000);\n\n  return (\n    <div>\n      <div>\n        <video\n          // controls\n          style={{ height: 500, width: 500 }}\n          autoPlay\n          ref={userVideo}\n          muted=\"muted\"\n        />\n        <video\n          controls\n          style={{ height: 500, width: 500 }}\n          autoPlay\n          ref={partnerVideo}\n        />\n        {screenShare ? (\n          <h2></h2>\n        ) : (\n          <button onClick={shareScreen}>Share screen</button>\n        )}\n      </div>\n      <div>\n        <Container>\n          <Messages>{messages.map(renderMessage)}</Messages>\n          <MessageBox\n            value={text}\n            onChange={handleChange}\n            placeholder=\"Happy Learning :)\"\n          />\n\n          <Button onClick={() => handleSendMessage()}>Send</Button>\n        </Container>\n      </div>\n      <div>\n        <Button onClick={() => topicSuggestion()}>\n          <p>Don't know what to talk about?</p>\n          <p>Here are our suggestions</p>\n        </Button>\n      </div>\n      {topics && <h1>{topics}</h1>}{\" \"}\n    </div>\n  );\n};\n\nexport default Room;\n","import React, { Component } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nexport default class Comment extends Component {\n  state = {\n    comment: \"\",\n    receiver: \"\",\n    receiverUsername: \"\",\n    senderUsername: \"\",\n    showButton: true,\n    allowedToDelete: false,\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    axios\n      .post(\"/comments\", {\n        comment: this.state.comment,\n        receiver: this.props.userId,\n        receiverUsername: this.props.username,\n        senderUsername: this.props.loggedUser.username\n      })\n      .then(() => {\n        this.setState({\n          comment: \"\",\n        });\n\n        this.props.getData();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n  handleRandomRoom = (event) => {\n    event.preventDefault();\n    axios\n      .post(\"/comments\", {\n        comment:\n          \"This is your room number: \" + Math.floor(Math.random() * 1000000),\n        receiver: this.props.userId,\n        receiverUsername: this.props.username,\n        senderUsername: this.props.loggedUser.username,\n      })\n      .then(() => {\n        this.setState({\n          comment: \"\",\n        });\n        this.props.getData();\n      });\n  };\n  decline = (commentObj) => {\n    // const id = this.props;\n    console.log(`find the comment`, commentObj);\n    axios\n      .delete(`/comments/${commentObj._id}`)\n      .then(() => {\n        this.props.getData();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  handleButton = (event) => {\n    if (event.target.className == \"is-hidden\") {\n      event.target.className = \"\";\n    } else {\n      event.target.className = \"is-hidden\";\n    }\n  };\n  render() {\n    let allowedToDelete = true;\n    const userComment = this.props.comments.map((commentObj) => {\n      console.log(\"commentObj in comment\", commentObj);\n      return (\n        <div>\n          {commentObj.senderUsername === this.props.username ?  <p className=\"username-comment\">{commentObj.receiverUsername} said: </p> : <p className=\"username-comment\">{commentObj.senderUsername} said: </p>}\n          {commentObj.comment}\n          <Form>\n            {allowedToDelete && (\n              <Button\n                variant=\"danger\"\n                onClick={() => {\n                  this.decline(commentObj);\n                }}\n              >\n                Decline\n              </Button>\n            )}\n          </Form>\n          <Form onSubmit={this.handleRandomRoom}>\n\n      <Button onClick={this.handleButton} type=\"submit\">Accept invitation</Button> <br />\n      </Form>\n        </div>\n      );\n    });\n\n    return (\n      <>\n        <h1>Comments:</h1>\n        <div className=\"comments\">{userComment}</div>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group>\n\n            <Form.Label htmlFor=\"comment\">\n              <b>Get in touch here! </b>\n            </Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"comment\"\n              value={this.state.comment}\n              onChange={this.handleChange}\n              id=\"comment\"\n            />\n          </Form.Group>\n\n          <Button type=\"submit\">Submit comment</Button> <br />\n\n        </Form>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"react-bootstrap\";\n// import EditProject from \"./EditProject\";\nimport Comment from \"./Comment\";\nimport CreateRoom from \"./CreateRoom\";\nimport { Route, Redirect, Link } from \"react-router-dom\";\n\nexport default class ProjectDetails extends Component {\n  state = {\n    userId: \"\",\n    username: \"\",\n    languagesSpoken: [],\n    languagesToLearn: [],\n    description: \"\",\n    comments: [],\n    error: \"\",\n    allowedToDelete: false,\n  };\n  getData = () => {\n    axios\n      .get(`/api/projects/${this.props.match.params.id}`)\n      .then((response) => {\n        const userComments = response.data.comments.filter((comment) => {\n          console.log(\"comment in userComments \", comment);\n          console.log(\"this.props.user._id\", this.props.user._id);\n          console.log(\"comment.receiver: \", comment.receiver);\n          console.log(\"comment.sender: \", comment.sender);\n          console.log(this.props.user._id === comment.receiver);\n          console.log(comment.sender === this.props.user._id);\n          return (\n            (this.props.user._id === comment.receiver ||\n              comment.sender === this.props.user._id) &&\n            this.props.match.params.id === comment.receiver &&\n            comment\n          );\n        });\n        // console.log(\"userComments here \",userComments)\n\n        this.setState({\n          userId: response.data.user._id,\n          username: response.data.user.username,\n          description: response.data.user.description,\n          languagesSpoken: response.data.user.languagesSpoken,\n          languagesToLearn: response.data.user.languagesToLearn,\n          comments: userComments,\n        });\n      })\n      .catch((error) => {\n        if (error.response.status === 404) {\n          this.setState({\n            error: \"Not found\",\n          });\n        }\n      });\n  };\n\n  // deleteProject = () => {\n  //   const id = this.props.match.params.id;\n  //   axios\n  //     .delete(`/api/projects/${id}.comment`)\n  //     .then(() => {\n  //       this.props.history.push(\"/home\");\n  //     })\n  //     .catch((error) => {\n  //       console.log(error);\n  //     });\n  // };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  // handleSubmit = (event) => {\n  //   event.preventDefault();\n  //   const id = this.props.match.params.id;\n  //   axios\n  //     .put(`/projects/${id}`, {\n  //       title: this.state.title,\n  //       description: this.state.description,\n  //     })\n  //     .then((response) => {\n  //       this.setState({\n  //         project: response.data,\n  //         title: response.data.title,\n  //         description: response.data.description,\n  //         editForm: false,\n  //       });\n  //     })\n  //     .catch((error) => {\n  //       console.log(error);\n  //     });\n  // };\n\n  toggleEditForm = () => {\n    this.setState((state) => ({\n      editForm: !state.editForm,\n    }));\n  };\n\n  componentDidMount() {\n    this.getData();\n  }\n  render() {\n\n    // if (this.state.error) return <div>{this.state.error}</div>;\n    // if (!this.state.project) return <p>Loading ...</p>;\n\n    let allowedToDelete = true;\n    const user = this.props.user;\n    // const owner = this.state.project.owner;\n    // if (user && user._id === owner) allowedToDelete = true;\n    const languagesToLearn = this.state.languagesToLearn.map((language) => {\n      return <p>{language}</p>;\n    });\n    const languagesSpoken = this.state.languagesSpoken.map((language) => {\n      return <p>{language}</p>;\n    });\n    return (\n      <div>\n        <h1>{this.state.username}</h1>\n        <p>{this.state.description}</p>\n        <h3>Wants to learn</h3>\n        {languagesToLearn}\n        <h3>Can speak</h3>\n        {languagesSpoken}\n\n        <Comment\n          getData={this.getData}\n          loggedUser={this.props.user}\n          {...this.state}\n        />\n        {/* <Link to={`/room`}>Go to room</Link> */}\n        <CreateRoom />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport { Route, Redirect } from \"react-router-dom\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nimport LearnersList from \"./components/LearnersList\";\nimport Signup from \"./components/Signup\";\nimport Login from \"./components/Login\";\nimport Navbar from \"./components/Navbar\";\nimport CreateRoom from \"./components/CreateRoom\";\nimport Room from \"./components/Room\";\nimport { Button } from \"react-bootstrap\";\nimport ProjectDetails from \"./components/ProjectDetails\";\n\nclass App extends Component {\n  state = {\n    user: this.props.user,\n  };\n\n  setUser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar user={this.state.user} setUser={this.setUser} />\n\n        {/* <Route\n          exact\n          path='/projects'\n          component={Projects}\n        /> */}\n\n        {/* <Route\n          exact\n          path=\"/projects\"\n          render={(props) => {\n            if (this.state.user) {\n              return <Projects {...props} />;\n            } else return <Redirect to=\"/\" />;\n          }}\n        /> */}\n\n        <Route\n          exact\n          path=\"/home\"\n          render={(props) => {\n            if (this.state.user) {\n              return <LearnersList user={this.state.user} {...props} />;\n            } else return <Redirect to=\"/\" />;\n          }}\n        />\n\n        <Route\n          exact\n          path=\"/users/:id\"\n          render={(props) => (\n            <ProjectDetails user={this.state.user} {...props} />\n          )}\n        />\n\n        {/* <Route\n          exact\n          path=\"/room/:id\"\n          render={(props) => <CreateRoom user={this.state.user} {...props} />}\n        /> */}\n        <Route path=\"/room/:roomID\" component={Room} />\n\n        <Route\n          exact\n          path=\"/signup\"\n          render={(props) => <Signup setUser={this.setUser} {...props} />}\n        />\n        <Route\n          exact\n          path=\"/login\"\n          render={(props) => <Login setUser={this.setUser} {...props} />}\n        />\n\n        <Route\n          exact\n          path=\"/\"\n          render={(props) => {\n            if (this.state.user) {\n              return <learnersList {...props} />;\n            } else\n              return (\n                <div className=\"not-signed-up\">\n                  <h1>Welcome to the DaNaKe</h1>\n                  <p>\n                    Here at DaNaKe, we care about learning languages. A passion\n                    for education, coupled with the new normal imposed by COVID,\n                    which means we can't travel as much as normal, motivated us\n                    to make our groundbreaking language learning platform\n                    available to the public. Connect with normal people from all\n                    over the world and learn the language of your choosing,\n                    whilst simultaneously sharing your own culture.\n                  </p>\n                  <p>\n                    <em>We are DaNaKe, we are community</em>\n                  </p>\n                  <a href=\"/signup\">\n                    <Button variant=\"primary\" size=\"lg\">\n                      Join us now\n                    </Button>\n                  </a>\n                </div>\n              );\n          }}\n        />\n\n        <Route\n          exact\n          path=\"/room\"\n          render={(props) => {\n            if (this.state.user) {\n              return <CreateRoom {...props} />;\n            } else return <Redirect to=\"/\" />;\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport axios from \"axios\";\n\naxios.get(\"/api/auth/loggedin\").then((response) => {\n  const user = response.data;\n  ReactDOM.render(\n    <BrowserRouter>\n      <App user={user} />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  );\n});\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App user={user} />\n//   </React.StrictMode>,\n//   document.getElementById(\"root\")\n// );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}